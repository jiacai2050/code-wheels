* sr-speedbar
#+begin_src elisp
(use-package sr-speedbar
  :config
  (setq speedbar-show-unknown-files t ;; show all files
        speedbar-use-images nil       ;; use text for buttons
        sr-speedbar-right-side nil    ;; put on left side
        sr-speedbar-width 30
        )
  :bind (("<f11>" . sr-speedbar-toggle)
         ("C-c s w" . sr-speedbar-select-window)
         ("C-c s r" . sr-speedbar-refresh-toggle)))

#+end_src

* Org
#+begin_src bash
# org 导出 pdf 中文支持
brew cask install basictex
sudo tlmgr update --self
sudo tlmgr install wrapfig
sudo tlmgr install capt-of
# PDF 导出时，需要 cjk 包，然后需要配置org-latex-packages-alist，具体参考 setup-org.el
sudo tlmgr install cjk
#+end_src
* Go
#+begin_src elisp
(use-package go-errcheck
  :after go-mode
  :ensure-system-package (errcheck . "go get -u github.com/kisielk/errcheck")
  :bind (:map go-mode-map
              ("C-c C-e" . go-errcheck)))

(use-package go-imenu
  :ensure-system-package (go-outline . "go get -u github.com/lukehoban/go-outline")
  :after go-mode
  :config
  (add-hook 'go-mode-hook 'go-imenu-setup))

#+end_src
* Rust
#+begin_src elisp
(use-package flycheck-rust
  :after rust-mode
  :config (add-hook 'flycheck-mode-hook 'flycheck-rust-setup))

;; use lsp-mode instead
(use-package racer
  :after rust-mode
  :if (executable-find "racer")
  :hook ((rust-mode . racer-mode)
         (racer-mode . eldoc-mode))
  :bind (:map rust-mode-map
              ("TAB" . company-indent-or-complete-common)))
#+end_src
* Remove cask deps
#+begin_src elisp
(defvar package-directory-list '())
add cask dependencies
(dolist (cask-dep '("~/.emacs.d/vendor/lsp-mode" "~/.emacs.d/vendor/lsp-treemacs"))
  (let ((dep-dir (format "%s/.cask/%s.%s/elpa" cask-dep emacs-major-version emacs-minor-version)))
    (add-to-list 'package-directory-list dep-dir)))

(dolist (f load-path)
  (when (and (stringp f)
             (equal (file-name-nondirectory f) "site-lisp"))
    (add-to-list 'package-directory-list (expand-file-name "elpa" f))))
#+end_src
